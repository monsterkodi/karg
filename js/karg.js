(function() {
  /*
  000   000   0000000   00000000    0000000 
  000  000   000   000  000   000  000      
  0000000    000000000  0000000    000  0000
  000  000   000   000  000   000  000   000
  000   000  000   000  000   000   0000000 
  */
  /*
  00000000  00000000   00000000    0000000   00000000 
  000       000   000  000   000  000   000  000   000
  0000000   0000000    0000000    000   000  0000000  
  000       000   000  000   000  000   000  000   000
  00000000  000   000  000   000   0000000   000   000
  */
  /*
  00000000  000   000  00000000    0000000   000   000  0000000  
  000        000 000   000   000  000   000  0000  000  000   000
  0000000     00000    00000000   000000000  000 0 000  000   000
  000        000 000   000        000   000  000  0000  000   000
  00000000  000   000  000        000   000  000   000  0000000  
  */
  var colors, error, expand, isEmpty, log, noon, padEnd, parse, size, values,
    indexOf = [].indexOf;

  noon = require('noon');

  colors = require('colors');

  isEmpty = require('lodash.isempty');

  padEnd = require('lodash.padend');

  size = require('lodash.size');

  values = require('lodash.values');

  log = console.log;

  expand = function(l) {
    var a, j, len, match;
    for (j = 0, len = l.length; j < len; j++) {
      a = l[j];
      if (match = /^\-(\w\w+)$/.exec(a)) {
        a = match[1].split('').map(function(i) {
          return '-' + i;
        });
        a.unshift(l.indexOf(match.input), 1);
        l.splice.apply(l, a);
        return expand(l);
      }
    }
    return l;
  };

  error = function(msg) {
    var s;
    s = "[".dim.red + "ERROR".bold.dim.red + "] ".dim.red;
    s += msg.trim().split('\n').join("\n        ").red;
    return log(s);
  };

  /*
  00000000    0000000   00000000    0000000  00000000
  000   000  000   000  000   000  000       000     
  00000000   000000000  0000000    0000000   0000000 
  000        000   000  000   000       000  000     
  000        000   000  000   000  0000000   00000000
  */
  // options: 
  //     dontExit:    don't exit process on -V/--version or -h/--help  (returns undefined instead)
  parse = function(config, options = {}) {
    /*
    000   000  00000000  000      00000000 
    000   000  000       000      000   000
    000000000  0000000   000      00000000 
    000   000  000       000      000      
    000   000  00000000  0000000  000      
    */
    /*
     0000000   00000000   000000000  000   0000000   000   000   0000000
    000   000  000   000     000     000  000   000  0000  000  000     
    000   000  00000000      000     000  000   000  000 0 000  0000000 
    000   000  000           000     000  000   000  000  0000       000
     0000000   000           000     000   0000000   000   000  0000000 
    */
    var a, c, df, h, help, k, l, maxHelpLength, maxKeyLength, n, oh, p, r, ref, ref1, s, short, v, version;
    if (options.ignoreArgs == null) {
      options.ignoreArgs = 2;
    }
    a = expand(process.argv.slice(options.ignoreArgs));
    c = noon.parse(config);
    n = Object.keys(c)[0];
    r = {};
    p = '';
    l = false;
    help = {};
    short = {}; // maps shortcut keys to long key names
    ref = c[n];
    for (k in ref) {
      v = ref[k];
      if (0 <= k.indexOf(' ')) {
        error(`wrong karg setup: ${"keys can't contain spaces!".bold}\nbroken key: ${k.bold.yellow}`);
        process.exit(1);
      }
      if (v['='] != null) {
        r[k] = v['='];
      }
      s = (v['-'] != null) && v['-'] || k[0];
      if (indexOf.call(Object.keys(v), '*') >= 0) {
        p = k;
      } else if (indexOf.call(Object.keys(v), '**') >= 0) {
        p = k;
        l = true;
        r[p] = [];
      } else {
        short[s] = k;
        help[s] = v['?'];
      }
    }
    oh = "";
    maxKeyLength = 0;
    maxHelpLength = 0;
    for (s in short) {
      k = short[s];
      if (help[s] != null) {
        maxKeyLength = Math.max(maxKeyLength, s.length + k.length);
        maxHelpLength = Math.max(maxHelpLength, help[s].strip.length);
      }
    }
    for (s in short) {
      k = short[s];
      if (help[s] != null) {
        df = (function() {
          switch (r[k]) {
            case false:
              return '✘'.red.dim;
            case true:
              return '✔'.green.bold;
            default:
              return r[k];
          }
        })();
        oh += '\n';
        oh += `    ${'-'.gray}${s}${', --'.gray}${k}`;
        oh += `    ${padEnd('', Math.max(0, maxKeyLength - s.length - k.length))} ${help[s]}`.gray.bold;
        if (df != null) {
          oh += `    ${padEnd('', Math.max(0, maxHelpLength - help[s].strip.length))} ${df}`.magenta;
        }
      }
    }
    h = `\n${'usage:'.gray}  ${n.bold} `;
    if (1 < size(short)) {
      h += `${'['.gray}${'options'.bold.gray}${']'.gray} `;
    }
    h += `${'['.gray}${p.bold.yellow}${l && ' ... ]'.gray || ']'.gray}`;
    h += '\n';
    if ((ref1 = c[n][p]) != null ? ref1['?'] : void 0) {
      h += `\n${padEnd('        ' + p, maxKeyLength + 9)} ${c[n][p]['?'].gray}`.yellow.bold;
      if ((c[n][p]['='] != null) && !l) {
        h += `  ${padEnd('', Math.max(0, maxHelpLength - c[n][p]['?'].strip.length))} ${c[n][p]['=']}`.magenta;
      }
      h += '\n';
    }
    if (oh.length) {
      h += "\noptions:\n".gray;
      h += oh;
      h += '\n\n';
    }
    short['h'] = 'help';
    if (c['version'] != null) {
      version = c['version'];
      delete c['version'];
      short['V'] = 'version';
    }
    delete c[n];
    if (!isEmpty(c)) {
      h += noon.stringify(c, {
        maxalign: 16,
        colors: {
          key: colors.gray,
          string: colors.white
        }
      });
      h += '\n';
    }
    /*
    00000000   00000000   0000000  000   000  000      000000000
    000   000  000       000       000   000  000         000   
    0000000    0000000   0000000   000   000  000         000   
    000   000  000            000  000   000  000         000   
    000   000  00000000  0000000    0000000   0000000     000   
    */
    while (a.length) {
      k = a.shift();
      if (k.substr(0, 2) === '--') {
        k = k.substr(2);
      } else if (k[0] === '-') {
        k = short[k.substr(1)];
      } else {
        if (l) {
          r[p].push(k);
        } else {
          r[p] = k;
        }
        continue;
      }
      if (k === 'help') {
        log(h);
        if (options.dontExit) {
          return;
        }
        process.exit();
      } else if (k === 'version' && (version != null)) {
        log(version);
        if (options.dontExit) {
          return;
        }
        process.exit();
      }
      if (r[k] === false || r[k] === true) {
        r[k] = !r[k];
      } else if (!isNaN(parseInt(r[k]))) {
        r[k] = parseInt(a.shift());
      } else if (indexOf.call(values(short), k) >= 0) {
        r[k] = a.shift();
      } else {
        if (l) {
          r[p].push(k);
        } else {
          r[p] = k;
        }
      }
    }
    return r;
  };

  module.exports = parse;

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoia2FyZy5qcyIsInNvdXJjZVJvb3QiOiIuLiIsInNvdXJjZXMiOlsiY29mZmVlL2thcmcuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLE1BQUEsTUFBQSxFQUFBLEtBQUEsRUFBQSxNQUFBLEVBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsTUFBQSxFQUFBLEtBQUEsRUFBQSxJQUFBLEVBQUEsTUFBQTtJQUFBOztFQVFBLElBQUEsR0FBVSxPQUFBLENBQVEsTUFBUjs7RUFDVixNQUFBLEdBQVUsT0FBQSxDQUFRLFFBQVI7O0VBQ1YsT0FBQSxHQUFVLE9BQUEsQ0FBUSxnQkFBUjs7RUFDVixNQUFBLEdBQVUsT0FBQSxDQUFRLGVBQVI7O0VBQ1YsSUFBQSxHQUFVLE9BQUEsQ0FBUSxhQUFSOztFQUNWLE1BQUEsR0FBVSxPQUFBLENBQVEsZUFBUjs7RUFDVixHQUFBLEdBQVUsT0FBTyxDQUFDOztFQVVsQixNQUFBLEdBQVMsUUFBQSxDQUFDLENBQUQsQ0FBQTtBQUNMLFFBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxHQUFBLEVBQUE7SUFBQSxLQUFBLG1DQUFBOztNQUNJLElBQUcsS0FBQSxHQUFRLGFBQWEsQ0FBQyxJQUFkLENBQW1CLENBQW5CLENBQVg7UUFDSSxDQUFBLEdBQUksS0FBTSxDQUFBLENBQUEsQ0FBRSxDQUFDLEtBQVQsQ0FBZSxFQUFmLENBQWtCLENBQUMsR0FBbkIsQ0FBdUIsUUFBQSxDQUFDLENBQUQsQ0FBQTtpQkFBTyxHQUFBLEdBQUk7UUFBWCxDQUF2QjtRQUNKLENBQUMsQ0FBQyxPQUFGLENBQVUsQ0FBQyxDQUFDLE9BQUYsQ0FBVSxLQUFLLENBQUMsS0FBaEIsQ0FBVixFQUFrQyxDQUFsQztRQUNBLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBVCxDQUFlLENBQWYsRUFBa0IsQ0FBbEI7QUFDQSxlQUFPLE1BQUEsQ0FBTyxDQUFQLEVBSlg7O0lBREo7V0FNQTtF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QUssU0FBTCxJQUFtQixpQkFBdEI7UUFDRCxHQUFBLENBQUksT0FBSjtRQUNBLElBQVUsT0FBTyxDQUFDLFFBQWxCO0FBQUEsaUJBQUE7O1FBQ0EsT0FBTyxDQUFDLElBQVIsQ0FBQSxFQUhDOztNQUtMLElBQUcsQ0FBRSxDQUFBLENBQUEsQ0FBRixLQUFRLEtBQVIsSUFBaUIsQ0FBRSxDQUFBLENBQUEsQ0FBRixLQUFRLElBQTVCO1FBQ0ksQ0FBRSxDQUFBLENBQUEsQ0FBRixHQUFPLENBQUksQ0FBRSxDQUFBLENBQUEsRUFEakI7T0FBQSxNQUVLLElBQUcsQ0FBSSxLQUFBLENBQU0sUUFBQSxDQUFTLENBQUUsQ0FBQSxDQUFBLENBQVgsQ0FBTixDQUFQO1FBQ0QsQ0FBRSxDQUFBLENBQUEsQ0FBRixHQUFPLFFBQUEsQ0FBUyxDQUFDLENBQUMsS0FBRixDQUFBLENBQVQsRUFETjtPQUFBLE1BRUEsSUFBRyxhQUFLLE1BQUEsQ0FBTyxLQUFQLENBQUwsRUFBQSxDQUFBLE1BQUg7UUFDRCxDQUFFLENBQUEsQ0FBQSxDQUFGLEdBQU8sQ0FBQyxDQUFDLEtBQUYsQ0FBQSxFQUROO09BQUEsTUFBQTtRQUdELElBQUcsQ0FBSDtVQUNJLENBQUUsQ0FBQSxDQUFBLENBQUUsQ0FBQyxJQUFMLENBQVUsQ0FBVixFQURKO1NBQUEsTUFBQTtVQUdJLENBQUUsQ0FBQSxDQUFBLENBQUYsR0FBTyxFQUhYO1NBSEM7O0lBM0JUO1dBa0NBO0VBN0lJOztFQStJUixNQUFNLENBQUMsT0FBUCxHQUFpQjtBQXhNakIiLCJzb3VyY2VzQ29udGVudCI6WyIjIyNcclxuMDAwICAgMDAwICAgMDAwMDAwMCAgIDAwMDAwMDAwICAgIDAwMDAwMDAgXHJcbjAwMCAgMDAwICAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgICAgIFxyXG4wMDAwMDAwICAgIDAwMDAwMDAwMCAgMDAwMDAwMCAgICAwMDAgIDAwMDBcclxuMDAwICAwMDAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgMDAwXHJcbjAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDAgICAwMDAwMDAwIFxyXG4jIyNcclxuXHJcbm5vb24gICAgPSByZXF1aXJlICdub29uJ1xyXG5jb2xvcnMgID0gcmVxdWlyZSAnY29sb3JzJ1xyXG5pc0VtcHR5ID0gcmVxdWlyZSAnbG9kYXNoLmlzZW1wdHknXHJcbnBhZEVuZCAgPSByZXF1aXJlICdsb2Rhc2gucGFkZW5kJ1xyXG5zaXplICAgID0gcmVxdWlyZSAnbG9kYXNoLnNpemUnXHJcbnZhbHVlcyAgPSByZXF1aXJlICdsb2Rhc2gudmFsdWVzJ1xyXG5sb2cgICAgID0gY29uc29sZS5sb2dcclxuXHJcbiMjI1xyXG4wMDAwMDAwMCAgMDAwICAgMDAwICAwMDAwMDAwMCAgICAwMDAwMDAwICAgMDAwICAgMDAwICAwMDAwMDAwICBcclxuMDAwICAgICAgICAwMDAgMDAwICAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMDAgIDAwMCAgMDAwICAgMDAwXHJcbjAwMDAwMDAgICAgIDAwMDAwICAgIDAwMDAwMDAwICAgMDAwMDAwMDAwICAwMDAgMCAwMDAgIDAwMCAgIDAwMFxyXG4wMDAgICAgICAgIDAwMCAwMDAgICAwMDAgICAgICAgIDAwMCAgIDAwMCAgMDAwICAwMDAwICAwMDAgICAwMDBcclxuMDAwMDAwMDAgIDAwMCAgIDAwMCAgMDAwICAgICAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwMDAwMCAgXHJcbiMjI1xyXG5cclxuZXhwYW5kID0gKGwpIC0+XHJcbiAgICBmb3IgYSBpbiBsIFxyXG4gICAgICAgIGlmIG1hdGNoID0gL15cXC0oXFx3XFx3KykkLy5leGVjIGFcclxuICAgICAgICAgICAgYSA9IG1hdGNoWzFdLnNwbGl0KCcnKS5tYXAgKGkpIC0+ICctJytpXHJcbiAgICAgICAgICAgIGEudW5zaGlmdCBsLmluZGV4T2YobWF0Y2guaW5wdXQpLCAxXHJcbiAgICAgICAgICAgIGwuc3BsaWNlLmFwcGx5IGwsIGFcclxuICAgICAgICAgICAgcmV0dXJuIGV4cGFuZCBsXHJcbiAgICBsXHJcblxyXG4jIyNcclxuMDAwMDAwMDAgIDAwMDAwMDAwICAgMDAwMDAwMDAgICAgMDAwMDAwMCAgIDAwMDAwMDAwIFxyXG4wMDAgICAgICAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgMDAwXHJcbjAwMDAwMDAgICAwMDAwMDAwICAgIDAwMDAwMDAgICAgMDAwICAgMDAwICAwMDAwMDAwICBcclxuMDAwICAgICAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMFxyXG4wMDAwMDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDAgICAwMDAwMDAwICAgMDAwICAgMDAwXHJcbiMjI1xyXG5cclxuZXJyb3IgPSAobXNnKSAtPlxyXG4gICAgcyA9IFwiW1wiLmRpbS5yZWQgKyBcIkVSUk9SXCIuYm9sZC5kaW0ucmVkICsgXCJdIFwiLmRpbS5yZWQgXHJcbiAgICBzICs9IG1zZy50cmltKCkuc3BsaXQoJ1xcbicpLmpvaW4oXCJcXG4gICAgICAgIFwiKS5yZWRcclxuICAgIGxvZyBzXHJcblxyXG4jIyNcclxuMDAwMDAwMDAgICAgMDAwMDAwMCAgIDAwMDAwMDAwICAgIDAwMDAwMDAgIDAwMDAwMDAwXHJcbjAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgICAgICAwMDAgICAgIFxyXG4wMDAwMDAwMCAgIDAwMDAwMDAwMCAgMDAwMDAwMCAgICAwMDAwMDAwICAgMDAwMDAwMCBcclxuMDAwICAgICAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgICAgICAwMDAgIDAwMCAgICAgXHJcbjAwMCAgICAgICAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMDAwMDAgICAwMDAwMDAwMFxyXG4jIyNcclxuXHJcbiMgb3B0aW9uczogXHJcbiMgICAgIGRvbnRFeGl0OiAgICBkb24ndCBleGl0IHByb2Nlc3Mgb24gLVYvLS12ZXJzaW9uIG9yIC1oLy0taGVscCAgKHJldHVybnMgdW5kZWZpbmVkIGluc3RlYWQpXHJcblxyXG5wYXJzZSA9IChjb25maWcsIG9wdGlvbnM9e30pIC0+XHJcbiAgICBcclxuICAgIG9wdGlvbnMuaWdub3JlQXJncyA/PSAyXHJcbiAgICBhID0gZXhwYW5kIHByb2Nlc3MuYXJndi5zbGljZSBvcHRpb25zLmlnbm9yZUFyZ3NcclxuICAgIGMgPSBub29uLnBhcnNlIGNvbmZpZ1xyXG4gICAgbiA9IE9iamVjdC5rZXlzKGMpWzBdXHJcbiAgICByID0ge31cclxuICAgIHAgPSAnJ1xyXG4gICAgbCA9IGZhbHNlXHJcbiAgICBoZWxwID0ge31cclxuICAgIHNob3J0ID0ge30gIyBtYXBzIHNob3J0Y3V0IGtleXMgdG8gbG9uZyBrZXkgbmFtZXNcclxuICAgIFxyXG4gICAgZm9yIGssdiBvZiBjW25dXHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgMCA8PSBrLmluZGV4T2YgJyAnXHJcbiAgICAgICAgICAgIGVycm9yIFwiXCJcIlxyXG4gICAgICAgICAgICB3cm9uZyBrYXJnIHNldHVwOiAje1wia2V5cyBjYW4ndCBjb250YWluIHNwYWNlcyFcIi5ib2xkfVxyXG4gICAgICAgICAgICBicm9rZW4ga2V5OiAje2suYm9sZC55ZWxsb3d9XHJcbiAgICAgICAgICAgIFwiXCJcIlxyXG4gICAgICAgICAgICBwcm9jZXNzLmV4aXQgMVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIHZbJz0nXT8gdGhlbiByW2tdID0gdlsnPSddXHJcbiAgICAgICAgcyA9IHZbJy0nXT8gYW5kIHZbJy0nXSBvciBrWzBdXHJcbiAgICAgICAgaWYgJyonIGluIE9iamVjdC5rZXlzIHZcclxuICAgICAgICAgICAgcCA9IGtcclxuICAgICAgICBlbHNlIGlmICcqKicgaW4gT2JqZWN0LmtleXMgdlxyXG4gICAgICAgICAgICBwID0ga1xyXG4gICAgICAgICAgICBsID0gdHJ1ZVxyXG4gICAgICAgICAgICByW3BdID0gW11cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHNob3J0W3NdID0ga1xyXG4gICAgICAgICAgICBoZWxwW3NdID0gdlsnPyddXHJcblxyXG4gICAgIyMjXHJcbiAgICAgMDAwMDAwMCAgIDAwMDAwMDAwICAgMDAwMDAwMDAwICAwMDAgICAwMDAwMDAwICAgMDAwICAgMDAwICAgMDAwMDAwMFxyXG4gICAgMDAwICAgMDAwICAwMDAgICAwMDAgICAgIDAwMCAgICAgMDAwICAwMDAgICAwMDAgIDAwMDAgIDAwMCAgMDAwICAgICBcclxuICAgIDAwMCAgIDAwMCAgMDAwMDAwMDAgICAgICAwMDAgICAgIDAwMCAgMDAwICAgMDAwICAwMDAgMCAwMDAgIDAwMDAwMDAgXHJcbiAgICAwMDAgICAwMDAgIDAwMCAgICAgICAgICAgMDAwICAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAwMDAwICAgICAgIDAwMFxyXG4gICAgIDAwMDAwMDAgICAwMDAgICAgICAgICAgIDAwMCAgICAgMDAwICAgMDAwMDAwMCAgIDAwMCAgIDAwMCAgMDAwMDAwMCBcclxuICAgICMjI1xyXG4gICAgXHJcbiAgICBvaCA9IFwiXCJcclxuICAgIFxyXG4gICAgbWF4S2V5TGVuZ3RoID0gMFxyXG4gICAgbWF4SGVscExlbmd0aCA9IDBcclxuICAgIGZvciBzLGsgb2Ygc2hvcnRcclxuICAgICAgICBpZiBoZWxwW3NdP1xyXG4gICAgICAgICAgICBtYXhLZXlMZW5ndGggPSBNYXRoLm1heChtYXhLZXlMZW5ndGgsIHMubGVuZ3RoK2subGVuZ3RoKVxyXG4gICAgICAgICAgICBtYXhIZWxwTGVuZ3RoID0gTWF0aC5tYXgobWF4SGVscExlbmd0aCwgaGVscFtzXS5zdHJpcC5sZW5ndGgpXHJcbiAgICAgICAgICAgIFxyXG4gICAgZm9yIHMsayBvZiBzaG9ydFxyXG4gICAgICAgIGlmIGhlbHBbc10/XHJcbiAgICAgICAgICAgIGRmID0gc3dpdGNoIHJba11cclxuICAgICAgICAgICAgICAgIHdoZW4gZmFsc2UgdGhlbiAn4pyYJy5yZWQuZGltXHJcbiAgICAgICAgICAgICAgICB3aGVuIHRydWUgIHRoZW4gJ+KclCcuZ3JlZW4uYm9sZFxyXG4gICAgICAgICAgICAgICAgZWxzZSByW2tdXHJcbiAgICAgICAgICAgIG9oICs9ICdcXG4nXHJcbiAgICAgICAgICAgIG9oICs9IFwiICAgICN7Jy0nLmdyYXl9I3tzfSN7JywgLS0nLmdyYXl9I3trfVwiXHJcbiAgICAgICAgICAgIG9oICs9IFwiICAgICN7cGFkRW5kICcnLCBNYXRoLm1heCgwLG1heEtleUxlbmd0aC1zLmxlbmd0aC1rLmxlbmd0aCl9ICN7aGVscFtzXX1cIi5ncmF5LmJvbGRcclxuICAgICAgICAgICAgb2ggKz0gXCIgICAgI3twYWRFbmQgJycsIE1hdGgubWF4KDAsbWF4SGVscExlbmd0aC1oZWxwW3NdLnN0cmlwLmxlbmd0aCl9ICN7ZGZ9XCIubWFnZW50YSBpZiBkZj9cclxuXHJcbiAgICAjIyNcclxuICAgIDAwMCAgIDAwMCAgMDAwMDAwMDAgIDAwMCAgICAgIDAwMDAwMDAwIFxyXG4gICAgMDAwICAgMDAwICAwMDAgICAgICAgMDAwICAgICAgMDAwICAgMDAwXHJcbiAgICAwMDAwMDAwMDAgIDAwMDAwMDAgICAwMDAgICAgICAwMDAwMDAwMCBcclxuICAgIDAwMCAgIDAwMCAgMDAwICAgICAgIDAwMCAgICAgIDAwMCAgICAgIFxyXG4gICAgMDAwICAgMDAwICAwMDAwMDAwMCAgMDAwMDAwMCAgMDAwICAgICAgXHJcbiAgICAjIyNcclxuICAgIFxyXG4gICAgaCA9IFwiXFxuI3sndXNhZ2U6Jy5ncmF5fSAgI3tuLmJvbGR9IFwiXHJcbiAgICBoICs9IFwiI3snWycuZ3JheX0jeydvcHRpb25zJy5ib2xkLmdyYXl9I3snXScuZ3JheX0gXCIgaWYgMSA8IHNpemUgc2hvcnRcclxuICAgIGggKz0gXCIjeydbJy5ncmF5fSN7cC5ib2xkLnllbGxvd30je2wgYW5kICgnIC4uLiBdJy5ncmF5KSBvciAoJ10nLmdyYXkpfVwiXHJcbiAgICBoICs9ICdcXG4nXHJcbiAgICBpZiBjW25dW3BdP1snPyddXHJcbiAgICAgICAgaCArPSBcIlxcbiN7cGFkRW5kICcgICAgICAgICcrcCwgbWF4S2V5TGVuZ3RoKzl9ICN7Y1tuXVtwXVsnPyddLmdyYXl9XCIueWVsbG93LmJvbGRcclxuICAgICAgICBoICs9IFwiICAje3BhZEVuZCAnJywgTWF0aC5tYXgoMCxtYXhIZWxwTGVuZ3RoLWNbbl1bcF1bJz8nXS5zdHJpcC5sZW5ndGgpfSAje2Nbbl1bcF1bJz0nXX1cIi5tYWdlbnRhIGlmIGNbbl1bcF1bJz0nXT8gYW5kIG5vdCBsXHJcbiAgICAgICAgaCArPSAnXFxuJ1xyXG4gICAgICAgICAgICBcclxuICAgIGlmIG9oLmxlbmd0aFxyXG4gICAgICAgIGggKz0gXCJcXG5vcHRpb25zOlxcblwiLmdyYXlcclxuICAgICAgICBoICs9IG9oXHJcbiAgICAgICAgaCArPSAnXFxuXFxuJ1xyXG4gICAgXHJcbiAgICBzaG9ydFsnaCddID0gJ2hlbHAnXHJcbiAgICBcclxuICAgIGlmIGNbJ3ZlcnNpb24nXT9cclxuICAgICAgICB2ZXJzaW9uID0gY1sndmVyc2lvbiddXHJcbiAgICAgICAgZGVsZXRlIGNbJ3ZlcnNpb24nXVxyXG4gICAgICAgIHNob3J0WydWJ10gPSAndmVyc2lvbidcclxuICAgICAgICBcclxuICAgIGRlbGV0ZSBjW25dXHJcbiAgICBpZiBub3QgaXNFbXB0eSBjXHJcbiAgICAgICAgaCArPSBub29uLnN0cmluZ2lmeSBjLCBcclxuICAgICAgICAgICAgbWF4YWxpZ246IDE2XHJcbiAgICAgICAgICAgIGNvbG9yczogXHJcbiAgICAgICAgICAgICAgICBrZXk6ICAgICBjb2xvcnMuZ3JheVxyXG4gICAgICAgICAgICAgICAgc3RyaW5nOiAgY29sb3JzLndoaXRlXHJcbiAgICAgICAgaCArPSAnXFxuJ1xyXG4gICAgICAgIFxyXG4gICAgIyMjXHJcbiAgICAwMDAwMDAwMCAgIDAwMDAwMDAwICAgMDAwMDAwMCAgMDAwICAgMDAwICAwMDAgICAgICAwMDAwMDAwMDBcclxuICAgIDAwMCAgIDAwMCAgMDAwICAgICAgIDAwMCAgICAgICAwMDAgICAwMDAgIDAwMCAgICAgICAgIDAwMCAgIFxyXG4gICAgMDAwMDAwMCAgICAwMDAwMDAwICAgMDAwMDAwMCAgIDAwMCAgIDAwMCAgMDAwICAgICAgICAgMDAwICAgXHJcbiAgICAwMDAgICAwMDAgIDAwMCAgICAgICAgICAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAgICAgICAwMDAgICBcclxuICAgIDAwMCAgIDAwMCAgMDAwMDAwMDAgIDAwMDAwMDAgICAgMDAwMDAwMCAgIDAwMDAwMDAgICAgIDAwMCAgIFxyXG4gICAgIyMjXHJcbiAgICAgICAgXHJcbiAgICB3aGlsZSBhLmxlbmd0aFxyXG4gICAgICAgIGsgPSBhLnNoaWZ0KClcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgaWYgay5zdWJzdHIoMCwyKSA9PSAnLS0nXHJcbiAgICAgICAgICAgIGsgPSBrLnN1YnN0ciAyXHJcbiAgICAgICAgZWxzZSBpZiBrWzBdID09ICctJ1xyXG4gICAgICAgICAgICBrID0gc2hvcnRbay5zdWJzdHIgMV1cclxuICAgICAgICBlbHNlIFxyXG4gICAgICAgICAgICBpZiBsXHJcbiAgICAgICAgICAgICAgICByW3BdLnB1c2gga1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICByW3BdID0ga1xyXG4gICAgICAgICAgICBjb250aW51ZVxyXG4gICAgICAgICAgICBcclxuICAgICAgICBpZiBrID09ICdoZWxwJ1xyXG4gICAgICAgICAgICBsb2cgaFxyXG4gICAgICAgICAgICByZXR1cm4gaWYgb3B0aW9ucy5kb250RXhpdFxyXG4gICAgICAgICAgICBwcm9jZXNzLmV4aXQoKVxyXG4gICAgICAgIGVsc2UgaWYgayA9PSAndmVyc2lvbicgYW5kIHZlcnNpb24/XHJcbiAgICAgICAgICAgIGxvZyB2ZXJzaW9uXHJcbiAgICAgICAgICAgIHJldHVybiBpZiBvcHRpb25zLmRvbnRFeGl0XHJcbiAgICAgICAgICAgIHByb2Nlc3MuZXhpdCgpXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIGlmIHJba10gPT0gZmFsc2Ugb3IgcltrXSA9PSB0cnVlXHJcbiAgICAgICAgICAgIHJba10gPSBub3QgcltrXVxyXG4gICAgICAgIGVsc2UgaWYgbm90IGlzTmFOIHBhcnNlSW50IHJba11cclxuICAgICAgICAgICAgcltrXSA9IHBhcnNlSW50IGEuc2hpZnQoKVxyXG4gICAgICAgIGVsc2UgaWYgayBpbiB2YWx1ZXMgc2hvcnRcclxuICAgICAgICAgICAgcltrXSA9IGEuc2hpZnQoKVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgaWYgbFxyXG4gICAgICAgICAgICAgICAgcltwXS5wdXNoIGtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgcltwXSA9IGtcclxuICAgIHJcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gcGFyc2VcclxuIl19
//# sourceURL=C:/Users/t.kohnhorst/s/karg/coffee/karg.coffee